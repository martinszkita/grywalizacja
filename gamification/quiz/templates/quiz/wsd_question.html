{% extends 'base.html' %}
{% load static %}

{% block extra_css%}
<link rel="stylesheet" href="{% static 'quiz/style.css'%}">
{% endblock %}

{% block content %}
  <div class="text-center mb-5">
    <h2 class="fw-semibold text-primary mb-2">Pytanie <span class="fw-bold">{{ question_num }}</span> z {{ question_count }}</h2>
    <p class="text-muted fs-1 fst-italic">Wybierz najlepsze znaczenie wyróżnionego słowa w zdaniu.</p>
  </div>

  <div class="quiz-sentence text-center mb-4">
    <h1>{{ sentence }}</h1>
    {% if most_ambiguous_word %}
      <p class="mt-2 text-muted">Słowo do rozstrzygnięcia: <span class="fw-bold text-primary">{{ most_ambiguous_word }}</span></p>
    {% endif %}
  </div>

  <form method="post" class="text-center container-fluid">
    {% csrf_token %}

    <div class="d-flex flex-wrap justify-content-center gap-3 mb-4">
      {% for value, label in form.fields.answer.choices %}
        <div>
          <input type="radio" class="btn-check" name="answer" id="wsd{{ forloop.counter }}" value="{{ value }}">
          <label class="btn btn-outline-primary btn-lg px-4 py-3 fs-4 shadow-sm answer-tile" for="wsd{{ forloop.counter }}">
            {{ label }}
          </label>
        </div>
      {% endfor %}
    </div>

    <div class="d-flex justify-content-center mt-4">
      <button class="btn btn-outline-secondary btn-lg py-3 fs-5" type="button"
              data-bs-toggle="collapse" data-bs-target="#noteBox">➕ Dodaj notatkę</button>
    </div>

    <div class="collapse justify-content-center" id="noteBox">
      <div class="card card-body border-0 shadow-sm mt-3">
        {{ form.user_comment.label_tag }}
        {{ form.user_comment }}
      </div>
    </div>

    <div class="d-flex justify-content-center mt-4">
      <button type="submit" class="btn btn-success btn-lg px-5 shadow">Następne pytanie</button>
    </div>
  </form>
{% endblock %}
